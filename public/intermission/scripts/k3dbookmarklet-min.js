var RAD=Math.PI/180;var TWOPI=Math.PI*2;var Rnd=Math.random;var Sin=Math.sin;var Cos=Math.cos;var Sqrt=Math.sqrt;var Floor=Math.floor;var Atan2=Math.atan2;function randomInt(a,b){return Floor(Rnd()*(b-a+1)+a)}function calcNormalVector(b,d,f,a,c,e){return new Vector3D((d*e)-(f*c),-((e*b)-(a*f)),(b*c)-(d*a)).norm()}function extend(d,e,c){var b=function(){},a;b.prototype=e.prototype;d.prototype=new b();d.prototype.constructor=d;d.superclass=e.prototype;if(e.prototype.constructor==Object.prototype.constructor){e.prototype.constructor=e}if(c){for(a in c){if(c.hasOwnProperty(a)){d.prototype[a]=c[a]}}}}function isArray(a){return(a.constructor.toString().indexOf("Array")!==-1)}(function(){Vector=function(x,y){this.x=x;this.y=y;return this};Vector.prototype={x:0,y:0,clone:function(){return new Vector(this.x,this.y)},set:function(v){this.x=v.x;this.y=v.y;return this},add:function(v){this.x+=v.x;this.y+=v.y;return this},sub:function(v){this.x-=v.x;this.y-=v.y;return this},dot:function(v){return this.x*v.x+this.y*v.y},length:function(){return Sqrt(this.x*this.x+this.y*this.y)},distance:function(v){var xx=this.x-v.x;var yy=this.y-v.y;return Sqrt(xx*xx+yy*yy)},theta:function(){return Atan2(this.y,this.x)},thetaTo:function(vec){var v=this.clone().norm();var w=vec.clone().norm();return Math.acos(v.dot(w))},thetaTo2:function(vec){return Atan2(vec.y,vec.x)-Atan2(this.y,this.x)},norm:function(){var len=this.length();this.x/=len;this.y/=len;return this},rotate:function(a){var ca=Cos(a);var sa=Sin(a);with(this){var rx=x*ca-y*sa;var ry=x*sa+y*ca;x=rx;y=ry}return this},invert:function(){this.x=-this.x;this.y=-this.y;return this},scale:function(s){this.x*=s;this.y*=s;return this},scaleTo:function(s){var len=s/this.length();this.x*=len;this.y*=len}}})();(function(){Vector3D=function(a,c,b){this.x=a;this.y=c;this.z=b;return this};Vector3D.prototype={x:0,y:0,z:0,clone:function(){return new Vector3D(this.x,this.y,this.z)},set:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){return new Vector3D(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)},length:function(){return Sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},distance:function(b){var c=this.x-b.x;var d=this.y-b.y;var a=this.z-b.z;return Sqrt(c*c+d*d+a*a)},thetaTo:function(b){var a=this.y*b.z-this.z*b.y,d=this.z*b.x-this.x*b.z,c=this.x*b.y-this.y*b.x;return Atan2(Sqrt(a*a+d*d+c*c),this.dot(b))},norm:function(){var a=this.length();this.x/=a;this.y/=a;this.z/=a;return this},scale:function(a){this.x*=a;this.y*=a;this.z*=a;return this}}})();(function(){Preloader=function(){this.images=new Array();return this};Preloader.prototype={images:null,callback:null,counter:0,addImage:function b(c,d){var e=this;c.url=d;c.onload=function(){e.counter++;if(e.counter===e.images.length){e.callback.call(e)}};this.images.push(c)},onLoadCallback:function a(e){this.counter=0;this.callback=e;for(var d=0,c=this.images.length;d<c;d++){this.images[d].src=this.images[d].url}}}})();var DEBUG={};if(typeof K3D=="undefined"||!K3D){var K3D={}}(function(){K3D.BaseController=function(){this.objects=[];this.lights=[];this.renderers=[];this.renderers.point=new K3D.PointRenderer();this.renderers.wireframe=new K3D.WireframeRenderer();this.renderers.solid=new K3D.SolidRenderer()};K3D.BaseController.prototype={renderers:null,objects:null,lights:null,addK3DObject:function(a){a.setController(this);this.objects.push(a)},addLightSource:function(a){this.lights.push(a)},getRenderer:function(a){return this.renderers[a]},processTick:function(c){var g=this.objects;for(var f=0,a=g.length;f<a;f++){g[f].executePipeline()}var e=this.lights;for(var f=0,a=e.length;f<a;f++){e[f].executePipeline()}g.forEach(function b(k,j,h){k.averagez=null});g.sort(function d(i,h){if(i.averagez===null){i.calculateAverageZ()}if(h.averagez===null){h.calculateAverageZ()}return(i.averagez<h.averagez?1:-1)});for(var f=0,a=g.length;f<a;f++){c.save();g[f].executeRenderer(c);c.restore()}}}})();(function(){K3D.Controller=function(b,a){K3D.Controller.superclass.constructor.call(this);this.canvas=b;var c=this;if(!a){b.onclick=function(d){c.paused=!c.paused;if(!c.paused){c.tick()}}}};extend(K3D.Controller,K3D.BaseController,{canvas:null,clearBackground:true,fillStyle:null,paused:true,callback:null,fps:40,lastFrameStart:0,addK3DObject:function(a){a.setController(this,this.canvas.width,this.canvas.height);this.objects.push(a)},tick:function(){var f=new Date().getTime();if(this.callback){this.callback.call(this)}var a=this.canvas.getContext("2d");if(this.clearBackground){if(this.fillStyle!==null){a.fillStyle=this.fillStyle;a.fillRect(0,0,this.canvas.width,this.canvas.height)}else{a.clearRect(0,0,this.canvas.width,this.canvas.height)}}this.processTick(a);var b=1000/this.fps;var e=(new Date().getTime()-f);if(!this.paused){var d=this;setTimeout(function(){d.tick()},b-e<=0?1:b-e)}if(DEBUG&&DEBUG.FPS){a.fillStyle="grey";a.fillText("TPF: "+e,4,48);var c=Math.round(1000/(f-this.lastFrameStart));a.fillText("FPS: "+c,4,64)}this.lastFrameStart=f}})})();(function(){K3D.BaseObject=function(){this.matrix=new Array(3);for(var a=0;a<3;a++){this.matrix[a]=new Array(3)}this.angles=new Array(6);return this};K3D.BaseObject.prototype={matrix:null,angles:null,offx:0,offy:0,offz:0,aboutx:0,abouty:0,aboutz:0,ogamma:0,otheta:0,ophi:0,addgamma:0,addtheta:0,addphi:0,velx:0,vely:0,velz:0,bminx:0,bminy:0,bminz:0,bmaxx:0,bmaxy:0,bmaxz:0,doublesided:false,calcMatrix:function(){var b=this.angles,a=this.matrix;b[0]=Math.sin(this.ogamma*RAD);b[1]=Math.cos(this.ogamma*RAD);b[2]=Math.sin(this.otheta*RAD);b[3]=Math.cos(this.otheta*RAD);b[4]=Math.sin(this.ophi*RAD);b[5]=Math.cos(this.ophi*RAD);a[0][0]=b[5]*b[1];a[1][0]=-(b[5]*b[0]);a[2][0]=b[4];a[0][1]=(b[2]*b[4]*b[1])+(b[3]*b[0]);a[1][1]=(b[3]*b[1])-(b[2]*b[4]*b[0]);a[2][1]=-(b[2]*b[5]);a[0][2]=(b[2]*b[0])-(b[3]*b[4]*b[1]);a[1][2]=(b[2]*b[1])+(b[3]*b[4]*b[0]);a[2][2]=b[3]*b[5]},transformToWorld:function(){},executePipeline:function(){this.ogamma+=this.addgamma;this.otheta+=this.addtheta;this.ophi+=this.addphi;this.offx+=this.velx;this.offy+=this.vely;this.offz+=this.velz;if(this.offx<this.bminx||this.offx>this.bmaxx){this.velx*=-1}if(this.offy<this.bminy||this.offy>this.bmaxy){this.vely*=-1}if(this.offz<this.bminz||this.offz>this.bmaxz){this.velz*=-1}this.calcMatrix();this.transformToWorld()}}})();(function(){K3D.K3DObject=function(){K3D.K3DObject.superclass.constructor.call(this);this.textures=[];return this};extend(K3D.K3DObject,K3D.BaseObject,{controller:null,worldcoords:null,screenx:0,screeny:0,depthscale:0,linescale:2,color:null,drawmode:"point",shademode:"depthcue",sortmode:"sorted",fillstroke:true,perslevel:512,scale:0,recalculateNormals:false,points:null,edges:null,faces:null,screencoords:null,averagez:null,textures:null,depthcueColors:null,init:function(v,l,f){this.points=v;this.edges=l;this.faces=f;this.worldcoords=new Array(v.length+f.length);for(var n=0,k=this.worldcoords.length;n<k;n++){this.worldcoords[n]={x:0,y:0,z:0}}this.screencoords=new Array(v.length);for(var n=0,k=this.screencoords.length;n<k;n++){this.screencoords[n]={x:0,y:0}}if(this.scale!==0){for(var n=0,k=this.points.length;n<k;n++){v[n].x*=this.scale;v[n].y*=this.scale;v[n].z*=this.scale}}if(this.color===null){this.color=[255,255,255]}this.depthcueColors=new Array(256);for(var q=0,a,o,t;q<256;q++){a=this.color[0]*(q/255);o=this.color[1]*(q/255);t=this.color[2]*(q/255);this.depthcueColors[q]="rgb("+Math.ceil(a)+","+Math.ceil(o)+","+Math.ceil(t)+")"}for(var n=0,k=f.length;n<k;n++){var p=f[n].vertices;var e=v[p[1]].x-v[p[0]].x;var u=v[p[1]].y-v[p[0]].y;var m=v[p[1]].z-v[p[0]].z;var d=v[p[2]].x-v[p[0]].x;var s=v[p[2]].y-v[p[0]].y;var h=v[p[2]].z-v[p[0]].z;f[n].normal=calcNormalVector(e,u,m,d,s,h);if(!f[n].color){f[n].color=this.color}if(f[n].texture===undefined){f[n].texture=null}}},setController:function(a,b,c){this.controller=a;if(b){this.screenx=b/2;this.screeny=c/2;this.depthscale=this.screenx;this.bminx=-this.screenx;this.bminy=-this.screeny;this.bminz=-this.screenx;this.bmaxx=this.screenx;this.bmaxy=this.screeny;this.bmaxz=this.screenx}},transformToWorld:function(){var k,h,f;var p=this.points,e=this.worldcoords,b=this.faces,n=this.matrix;var l=this.aboutx,j=this.abouty,g=this.aboutz,d=this.offx,c=this.offy,a=this.offz;var r=n[0],o=n[1],m=n[2];for(var q=0,s=p.length;q<s;q++){k=p[q].x+l;h=p[q].y+j;f=p[q].z+g;e[q].x=(r[0]*k)+(r[1]*h)+(r[2]*f)+d;e[q].y=(o[0]*k)+(o[1]*h)+(o[2]*f)+c;e[q].z=(m[0]*k)+(m[1]*h)+(m[2]*f)+a}for(var q=0,s=b.length,t;q<s;q++){t=b[q].normal;k=t.x;h=t.y;f=t.z;b[q].worldnormal=new Vector3D((r[0]*k)+(r[1]*h)+(r[2]*f)+d,(o[0]*k)+(o[1]*h)+(o[2]*f)+c,(m[0]*k)+(m[1]*h)+(m[2]*f)+a)}},transformToScreen:function(){var h,f,e;var a=this.worldcoords,g=this.screencoords;var k=this.screenx,j=this.screeny,d=this.perslevel;for(var b=0,c=this.points.length;b<c;b++){h=a[b].x;f=a[b].y;e=a[b].z+d;if(e===0){e=1}g[b].x=((h*d)/e)+k;g[b].y=j-((f*d)/e)}},executePipeline:function(){if(this.recalculateNormals){var c=this.faces,m=this.points;for(var g=0,e=c.length;g<e;g++){var h=c[g].vertices;var b=m[h[1]].x-m[h[0]].x;var l=m[h[1]].y-m[h[0]].y;var f=m[h[1]].z-m[h[0]].z;var a=m[h[2]].x-m[h[0]].x;var k=m[h[2]].y-m[h[0]].y;var d=m[h[2]].z-m[h[0]].z;c[g].normal=calcNormalVector(b,l,f,a,k,d)}}K3D.K3DObject.superclass.executePipeline.call(this);this.transformToScreen();this.controller.getRenderer(this.drawmode).sortByDistance(this)},executeRenderer:function(a){this.controller.getRenderer(this.drawmode).renderObject(this,a)},calculateAverageZ:function(){var d=0;var c=this.worldcoords;for(var b=0,a=this.points.length;b<a;b++){d+=c[b].z}this.averagez=d/this.points.length}})})();(function(){K3D.LightSource=function(b,c,a){K3D.LightSource.superclass.constructor.call(this);this.location=b;this.color=c;this.intensity=a;return this};extend(K3D.LightSource,K3D.BaseObject,{color:null,intensity:null,location:null,worldvector:null,transformToWorld:function(){var b=this.matrix;var a=this.location.x+this.aboutx;var d=this.location.y+this.abouty;var c=this.location.z+this.aboutz;this.worldvector=new Vector3D((b[0][0]*a)+(b[0][1]*d)+(b[0][2]*c)+this.offx,(b[1][0]*a)+(b[1][1]*d)+(b[1][2]*c)+this.offy,(b[2][0]*a)+(b[2][1]*d)+(b[2][2]*c)+this.offz)}})})();(function(){K3D.Renderer=function(){};K3D.Renderer.prototype={sortByDistance:function(a){},renderObject:function(b,a){}}})();(function(){K3D.PointRenderer=function(){K3D.PointRenderer.superclass.constructor.call(this);return this};extend(K3D.PointRenderer,K3D.Renderer,{sortByDistance:function(a){if(a.shademode!=="plain"&&a.sortmode==="sorted"){this.quickSortObject(a.screencoords,a.worldcoords,0,a.points.length-1)}},quickSortObject:function(h,c,i,d){var e=i,g=d,f;var b;if(d>i){f=c[(i+d)>>1].z/2;while(e<=g){while(e<d&&c[e].z>f){e++}while(g>i&&c[g].z<f){g--}if(e<=g){b=h[e];h[e]=h[g];h[g]=b;b=c[e];c[e]=c[g];c[g]=b;e++;g--}}if(i<g){this.quickSortObject(h,c,i,g)}if(e<d){this.quickSortObject(h,c,e,d)}}},renderObject:function(f,m){var b,h,k;var j=f.screencoords,d=f.worldcoords,n=f.depthscale,a=n/128,l=f.linescale/255;for(var e=0,g=f.points.length;e<g;e++){h=d[e].z+n;h=h/a;switch(f.shademode){case"lightsource":case"plain":m.fillStyle="rgb("+f.color[0]+","+f.color[1]+","+f.color[2]+")";break;case"depthcue":if(h<0){h=0}if(h>255){h=255}h=255-Math.ceil(h);m.fillStyle=f.depthcueColors[h];break}k=l*h;if(k<0.1){k=0.1}m.beginPath();m.arc(j[e].x,j[e].y,k,0,TWOPI,true);m.closePath();m.fill()}}})})();(function(){K3D.WireframeRenderer=function(){K3D.WireframeRenderer.superclass.constructor.call(this);return this};extend(K3D.WireframeRenderer,K3D.Renderer,{sortByDistance:function(a){if(a.shademode!=="plain"&&a.sortmode==="sorted"){this.quickSortObject(a.worldcoords,a.edges,0,a.edges.length-1)}},quickSortObject:function(i,b,h,c){var d=h,g=c,e;var f;if(c>h){e=((i[(b[(h+c)>>1].a)].z)+(i[(b[(h+c)>>1].b)].z))/2;while(d<=g){while((d<c)&&((i[(b[d].a)].z+i[(b[d].b)].z)/2>e)){d++}while((g>h)&&((i[(b[g].a)].z+i[(b[g].b)].z)/2<e)){g--}if(d<=g){f=b[d];b[d]=b[g];b[g]=f;d++;g--}}if(h<g){this.quickSortObject(i,b,h,g)}if(d<c){this.quickSortObject(i,b,d,c)}}},renderObject:function(h,q){var k,n,m,o;var f=h.edges,l=h.screencoords,e=h.worldcoords;var r=h.depthscale,d=r/128,p=h.linescale/255;for(var g=0,j=f.length;g<j;g++){n=f[g].a;m=f[g].b;switch(h.shademode){case"lightsource":case"plain":k=h.color;q.fillStyle="rgb("+k[0]+","+k[1]+","+k[2]+")";break;case"depthcue":k=((e[n].z+e[m].z)/2)+r;k=k/d;if(k<0){k=0}if(k>255){k=255}k=255-Math.ceil(k);q.strokeStyle=h.depthcueColors[k];o=p*k;q.lineWidth=(o>0.1?o:0.1);break}q.beginPath();q.moveTo(l[n].x,l[n].y);q.lineTo(l[m].x,l[m].y);q.closePath();q.stroke()}}})})();(function(){K3D.SolidRenderer=function(){K3D.SolidRenderer.superclass.constructor.call(this);return this};extend(K3D.SolidRenderer,K3D.Renderer,{sortByDistance:function b(e){if(e.sortmode==="sorted"){this.quickSortObject(e.worldcoords,e.faces,0,e.faces.length-1)}},quickSortObject:function a(h,r,g,s){var q=g,f=s,p,o,n,e;if(s>g){n=r[(g+s)>>1].vertices;for(var l=0,k=n.length,m=0;l<k;l++){m+=h[n[l]].z}p=m/n.length;while(q<=f){while(true){n=r[q].vertices;for(var l=0,k=n.length,m=0;l<k;l++){m+=(h[n[l]].z)}e=m/n.length;if(q<s&&e>p){q++}else{break}}while(true){n=r[f].vertices;for(var l=0,k=n.length,m=0;l<k;l++){m+=h[n[l]].z}e=m/n.length;if(f>g&&e<p){f--}else{break}}if(q<=f){o=r[q];r[q]=r[f];r[f]=o;q++;f--}}if(g<f){this.quickSortObject(h,r,g,f)}if(q<s){this.quickSortObject(h,r,q,s)}}},renderObject:function c(w,C){var h=w.faces,k=w.screencoords,p=w.worldcoords;var m=w.depthscale,K=m/128;var z=new Vector3D(0,0,1);var s,A,G,J,I,v=Math.PI/2,q;var M=w.controller.lights;var L=w.doublesided;for(var B=0,F=h.length,u;B<F;B++){u=h[B];s=u.vertices;var H=z.thetaTo(u.worldnormal);if(L||(H+0.15>v)){switch(w.shademode){case"plain":if(u.texture===null){I=u.color;q="rgb("+I[0]+","+I[1]+","+I[2]+")";this.renderPolygon(C,w,u,q)}else{this.renderPolygon(C,w,u)}break;case"depthcue":for(var E=0,D=s.length,t=0;E<D;E++){t+=p[s[E]].z}var o=((t/s.length)+m)/K;if(o<0){o=0}if(o>255){o=255}if(u.texture===null){o=(255-o)/255;I=u.color;A=Math.ceil(o*I[0]);G=Math.ceil(o*I[1]);J=Math.ceil(o*I[2]);q="rgb("+A+","+G+","+J+")"}else{o=255-Math.ceil(o);q="rgba(0,0,0,"+(1-(o/255))+")"}this.renderPolygon(C,w,u,q);break;case"lightsource":if(M.length===0){I=u.color;A=Math.ceil(H*(I[0]/Math.PI));G=Math.ceil(H*(I[1]/Math.PI));J=Math.ceil(H*(I[2]/Math.PI));if(u.texture===null){q="rgb("+A+","+G+","+J+")"}else{q="rgba(0,0,0,"+(1-H*(1/Math.PI))+")"}this.renderPolygon(C,w,u,q)}else{A=0;G=0;J=0;for(var E=0,D=M.length,l,e;E<D;E++){l=M[E];H=Math.PI-l.worldvector.thetaTo(u.worldnormal);e=H*((1/l.worldvector.distance(u.worldnormal))*l.intensity)/Math.PI;A+=(e*l.color[0]);G+=(e*l.color[1]);J+=(e*l.color[2])}if(A>1){A=1}if(G>1){G=1}if(J>1){J=1}I=u.color;var f=Math.ceil(A*I[0])+","+Math.ceil(G*I[1])+","+Math.ceil(J*I[2]);if(u.texture===null){q="rgb("+f+")"}else{q="rgba("+f+","+(1-(A+G+J)/3)+")"}this.renderPolygon(C,w,u,q)}break}}}},renderPolygon:function d(w,v,p,n){var g=v.screencoords,o=p.vertices;w.save();w.beginPath();w.moveTo(g[o[0]].x,g[o[0]].y);for(var C=1,A=o.length;C<A;C++){w.lineTo(g[o[C]].x,g[o[C]].y)}w.closePath();if(p.texture===null){w.fillStyle=n;w.fill();if(v.fillstroke){w.fill()}}else{w.clip();var J=v.textures[p.texture];var s=16,E=16,r=J.width-16,B=16,q=J.width-16,z=J.height-16;var G=g[o[0]].x,k=g[o[0]].y,F=g[o[1]].x,h=g[o[1]].y,D=g[o[2]].x,f=g[o[2]].y;var e=J.denom;if(e===undefined){e=s*(z-B)-r*z+q*B+(r-q)*E;J.denom=e}var I=-(E*(D-F)-B*D+z*F+(B-z)*G)/e;var H=(B*f+E*(h-f)-z*h+(z-B)*k)/e;var m=(s*(D-F)-r*D+q*F+(r-q)*G)/e;var l=-(r*f+s*(h-f)-q*h+(q-r)*k)/e;var u=(s*(z*F-B*D)+E*(r*D-q*F)+(q*B-r*z)*G)/e;var t=(s*(z*h-B*f)+E*(r*f-q*h)+(q*B-r*z)*k)/e;w.transform(I,H,m,l,u,t);w.drawImage(J,0,0);if(n){w.fillStyle=n;w.fill()}}w.restore()}})})();window.addEventListener("load",onloadHandler,false);function onloadHandler(){var CANVASSIZE=64;var OFFSET=10;var canvas=document.createElement("canvas");if(!canvas){return}canvas.width=CANVASSIZE;canvas.height=CANVASSIZE;canvas.title="Kevs 3D";canvas.style.position="absolute";canvas.style.zIndex=100;canvas.style.cursor="pointer";document.body.appendChild(canvas);canvas.style.left=canvas.style.top=OFFSET+"px";var destinationY=positionY=OFFSET;window.addEventListener("scroll",function onscroll(){destinationY=window.pageYOffset+OFFSET},false);var k3d=new K3D.Controller(canvas,true);k3d.fps=50;var obj=new K3D.K3DObject();var t=(1+Math.sqrt(5))/2,tau=t/Math.sqrt(1+t*t),one=1/Math.sqrt(1+t*t);with(obj){drawmode="solid";shademode="lightsource";fillstroke=false;addgamma=1;addtheta=-0.5;addphi=0.8;scale=32;init([{x:tau,y:one,z:0},{x:-tau,y:one,z:0},{x:-tau,y:-one,z:0},{x:tau,y:-one,z:0},{x:one,y:0,z:tau},{x:one,y:0,z:-tau},{x:-one,y:0,z:-tau},{x:-one,y:0,z:tau},{x:0,y:tau,z:one},{x:0,y:-tau,z:one},{x:0,y:-tau,z:-one},{x:0,y:tau,z:-one}],[{a:4,b:8},{a:8,b:7},{a:7,b:4},{a:7,b:9},{a:9,b:4},{a:5,b:6},{a:6,b:11},{a:11,b:5},{a:5,b:10},{a:10,b:6},{a:0,b:4},{a:4,b:3},{a:3,b:0},{a:3,b:5},{a:5,b:0},{a:2,b:7},{a:7,b:1},{a:1,b:2},{a:1,b:6},{a:6,b:2},{a:8,b:0},{a:0,b:11},{a:11,b:8},{a:11,b:1},{a:1,b:8},{a:9,b:10},{a:10,b:3},{a:3,b:9},{a:9,b:2},{a:2,b:10}],[{color:[255,255,255],vertices:[4,8,7]},{color:[255,255,0],vertices:[4,7,9]},{color:[0,255,255],vertices:[5,6,11]},{color:[128,0,255],vertices:[5,10,6]},{color:[0,0,255],vertices:[0,4,3]},{color:[255,0,0],vertices:[0,3,5]},{color:[0,255,0],vertices:[2,7,1]},{color:[255,0,0],vertices:[2,1,6]},{color:[128,128,128],vertices:[8,0,11]},{color:[255,128,0],vertices:[8,11,1]},{color:[0,128,255],vertices:[9,10,3]},{color:[255,0,128],vertices:[9,2,10]},{color:[0,128,255],vertices:[8,4,0]},{color:[128,255,0],vertices:[11,0,5]},{color:[0,255,128],vertices:[4,9,3]},{color:[128,255,255],vertices:[5,3,10]},{color:[255,128,255],vertices:[7,8,1]},{color:[128,0,255],vertices:[6,1,11]},{color:[0,255,128],vertices:[7,2,9]},{color:[255,0,255],vertices:[6,10,2]}])}k3d.addK3DObject(obj);k3d.callback=function(){if(positionY!=destinationY){positionY+=(destinationY-positionY)/OFFSET;canvas.style.top=Math.floor(positionY)+"px"}};canvas.addEventListener("click",function click(){window.location.href=INDEX},false);k3d.paused=false;k3d.tick()};